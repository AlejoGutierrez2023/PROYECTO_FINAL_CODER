{% load static %}

{% block content %}
<div class="mt-3">
    <a href="{% url 'base' %}" class="btn btn-danger">Volver al Inicio</a>
    <a href="{% url 'blog_create' %}" class="btn btn-danger">Crear Blog</a>
</div>
<h1>Blogs</h1>
<section class="blog-list">
    {% for blog in blogs %}
    <div class="blog-container">
        <h2><a class="blog-list-link" data-pk="{{ blog.pk }}">{{ blog.title }}</a></h2>
        <p>{{ blog.subtitle }}</p>
        <img src="{{ blog.image.url }}" alt="{{ blog.title }}">
        <p>{{ blog.body }}</p>
        <p>Author: {{ blog.author.username }}</p>
        <p>Date: {{ blog.created_at }}</p>
        <div class="blog-actions">
            {% if user == blog.author or user.is_superuser %}
            <a href="{% url 'blog_edit' pk=blog.pk %}" class="btn btn-danger">Edit</a>
            <a href="{% url 'blog_delete' pk=blog.pk %}" class="btn btn-danger">Delete</a>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</section>
<div class="mt-3">
    <a href="{% url 'base' %}" class="btn btn-danger">Volver al Inicio</a>
    <a href="{% url 'blog_create' %}" class="btn btn-danger">Crear Blog</a>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'App1/css/blog_list.css' %}">
{% endblock %}
